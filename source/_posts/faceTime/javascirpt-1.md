---
title: JavaScript中交换变量a/b的多种方法
date: 2020-01-12 22:23:53
tags: [面试题]
categories: [JavaScript, 面试题]
description: 在看别人博客时看到一个有趣的关于JavaScript交换变量的方法，有助于开阔思路。
---

## 简介

问题是有一个变量`a`、`b`要怎么交换它们的值，有多少种方法，那种方法比较好比较省时省力。我们尽量使用最少的代码和内存空间来实现变量的交换。

## 借助临时变量

### 第一种

首先来一个最简单的实现方式代码如下：

```js
  var a = 100;
  var b = 200;
  // 临时变量
  var temporary = b;
  b = a;
  a = temporary;
  temporary = null;
```

这个我们多使用了一个变量`temporary`，这种方法也是我们经常用的。如果我们不声明一个临时变量怎么实现呢。下面开始。

## ES实现方法

我们可以使用`ES6`中的`解构`特性，这个应该也是比较常用的方法。但是兼容性没有上面的方法好，但是在`Vue`、`React`中经常用到。

```js
  var a = 100;
  var b = 200;
  [a, b] = 【b ,a]
```

如果不是用`ES6`中的特性，实现代码如下：

```js
  var a = 100;
  var b = 200;
  a = { a: b, b: a }
  b = a.b
  a = a.a
```

我们通过把`a`设置为一个对象用来保存`a`、`b`的值，然后再分别取出。**通过把对象替换为数组也是可以实现**，这里就不做演示了。

## 通过加减法

通过加减法也是可以实现的，首先是通过`加法`实现，代码实现如下：

```js
  var a = 100; // 初始值 a
  var b = 200; // 初始值 b
  a = a + b; // a 的值为 a(100) + b(200) = 300
  b = a - b; // b 为 a(300) - b(200) 为 100
  a = a - b; // 因为在这次执行的时候b已经为上面的值100 a 为 a(300) - b(100) 为 200
```

但是这种方式可能会导致数字溢出，所以我们可以通过`减法`来实现更安全。下面看代码实现：

```js
  var a = 100; // 初始值 a
  var b = 200; // 初始值 b
  a = a - b; // a 的值为 a(100) - b(200) = -100
  b = b + a; // b 为 a(-100) + b(200) 为 100
  a = b - a; // 因为在这次执行的时候b已经为上面的值100 a 为 b(100) - a(-100) 为 200
```

## 按位异或

首先我们要了解一下什么是[按位异或](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_XOR)，它的定义是**按位异或（XOR）：`a ^ b对于每一个比特位，当两个操作数相应的比特位有且只有一个1时，结果为1，否则为0。`**

|a|b|a XOR b|
|:----:|:-----:|:-----:|
|0|0|0|
|0|1|1|
|1|0|1|
|1|1|0|

我们通过上面的表格知道`a ^ a`为`0`，那么`a ^ a ^ b` 就相当于`0 ^ b`的出来的值为`b`的值。代码如下实现如下：

```js
  
```